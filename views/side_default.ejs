<aside class="left-side sidebar-offcanvas">
    <section class="sidebar">
        <% include sidepartial_userinfo.ejs %>
        <!-- Search controller -->
        <!-- <form class="sidebar-form" type="GET" action="/search" name="searchForm"> -->
        <%= include sidepartial_searchbar.ejs %>
        <ul class="sidebar-menu">
            <li style="border-top:0px;">
                <a href="/members/createsong">
                    <i class="fa fa-plus"></i> <span>Create a Song</span>
                </a>
            </li>

            <li class="treeview">
            <!-- Button trigger modal -->
            <!-- <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#folder_create">
              Create new Folder
            </button> -->
            <a href="" data-toggle="modal" data-target="#folder_create">
              <i class="fa fa-plus"></i> <span>Create a Folder</span>
            </a>

            <!-- Modal -->
            <div class="modal fade" id="folder_create" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ng-controller="FolderController">
              <div class="modal-dialog" >
                <div class="modal-content" style="width:100%;">
                  <div class="modal-header" style="padding: 10px 15px 8px;text-align: center;box-shadow: none !important;background: #f5f5f5;border: none;border-radius: 3px 3px 0 0;border-bottom: 0px solid #eee;">
<!--                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
 -->                    <h4 class="modal-title" style="text-align:center;"id="myModalLabel">Create a New Folder</h4>
                  </div>
                  <div class="modal-body" style="padding-bottom:0px; width:100%;">
                    <form class="sidebar-form" name="folderForm">
                        <div class="input-group" ng-class="{ 'has-error' : folderForm.name.$invalid && !folderForm.password.$pristine">
                            <input type="text" name="name" class="form-control" placeholder="Enter new folder name" ng-model="folder.name" type="text" class="form-control" ng-pattern="/^[A-Za-z0-9 \$\!\-\_]*$/" style="display: block;float: none;width: 560px;margin: 0 5%;font-size: 18px;padding: 10px 0px; margin-bottom:0px;box-shadow: none;border: none;overflow: hidden;width: 90%;font-weight: 400;font-smoothing: antialiased !important;-webkit-font-smoothing: antialiased; background-color:#fff; width:100%;"/>
                            <p ng-show="folderForm.name.$error.required && !folderForm.name.$pristine" class="help-block" style="margin-top:0px; color:red;">Foldername cannot be empty</p>
                            <p ng-show="folderForm.name.$error.pattern" class="help-block" style="margin-top:0px; color:red;">Invalid characters. Please use only alphanumeric characters or ! $ - _</p>
                            <!-- it would look bad to have messages here -->
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" ng-disabled="folderForm.$invalid" ng-click="createfolder()" class="btn btn-primary">Create Folder</button>
                  </div>
                </div>
              </div>
            </div>
            </li>

            <li class="treeview">
                <a href="#">
                    <i class="fa fa-folder"></i> <span>My Folders</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                <% for (var i = 0; i < userfolders.length; i++) { %>
                    <li><a href="/members/editfolder/<%= userfolders[i]._id %>"><i class="fa fa-angle-double-right"></i><%= userfolders[i].name %></a></li>
                <% } %>
                </ul>
            </li>
            
        </ul>
    </section>
</aside>
