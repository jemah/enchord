<aside class="left-side sidebar-offcanvas">
    <section class="sidebar">
        <div class="user-panel">
            <div class="pull-left image">
                <img src="/images/default.png" class="img-circle" alt="User Image" />
            </div>
            <div class="pull-left info" style="padding-top: 8%;">
                <% if(isLoggedIn) { %><p>Hello, <%= username %></p><% } %>
            </div>
        </div>
        <!-- Search controller -->
        <!-- <form class="sidebar-form" type="GET" action="/search" name="searchForm"> -->
        <form class="sidebar-form" name="searchForm">
            <div class="input-group" ng-controller="SearchController">
                <input type="text" name="query" class="form-control" placeholder="Search..." ng-model="query" type="text" class="form-control" id="query" ng-pattern="/^[A-Za-z0-9 \$\!\-\_\' ]*$/" name="query"/>
                <input type="hidden" name="type" value="Both">
                <span class="input-group-btn">
                    <button ng-click="search()" type='submit' name='search' id='search-btn' class="btn btn-flat"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
        <ul class="sidebar-menu">
            <li class="active">
                <a href="/members/createsong">
                    <i class="fa fa-plus"></i> <span>Create a Song</span>
                </a>
            </li>


            
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-folder"></i> <span>My Folders</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                <% for (var i = 0; i < userfolders.length; i++) { %>
                    <li><a href="/members/editfolder/<%= userfolders[i]._id %>"><i class="fa fa-angle-double-right"></i><%= userfolders[i].name %></a></li>
                <% } %>
                </ul>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-plus"></i> <span>Create a Folder</span>
                </a>
                <ul class="treeview-menu">
                    <form class="sidebar-form" name="folderForm">
                        <div class="input-group" ng-controller="FolderController">
                            <input type="text" name="name" class="form-control" placeholder="Enter new folder name" ng-model="folder.name" type="text" class="form-control" ng-pattern="/^[A-Za-z0-9 \$\!\-\_\' ]*$/" name="name" style="padding-top:0px;"/>
                            <!-- added button back because need to handle submission with ng-click -->
                            <span class="input-group-btn">
                                <button ng-click="createfolder()" type='submit' name='create' id='search-btn' class="btn btn-flat"><i class="fa fa-plus"></i></button>
                            </span>
                        </div>
                    </form>
                </ul>
            </li>
        </ul>
    </section>
</aside>
