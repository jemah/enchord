<!DOCTYPE html>
<html lang='en' ng-app='enchord'>
<!--<html lang='en'>-->
  <head>
    <% include head.ejs %>
  </head>
  <body ng-controller="SignupController">
		<!-- PASSWORD -->
    <form action="/reset/:<%= tokens%>" method="post" name="loginForm" novalidate>
		<div class="form-group" ng-class="{ 'has-error' : signupForm.password.$invalid && !signupForm.password.$pristine }">
            <label class="control-label" for="password"> New Password</label>
            <input type="password" name="password" class="form-control" ng-model="user.password" ng-minlength="8" ng-maxlength="20" placeholder="Password" ng-change="checkPass()" required>
            <span ng-show="signupForm.password.$error.required && !signupForm.password.$pristine" class="help-block">Enter your password</span>
            <span ng-show="signupForm.password.$error.minlength" class="help-block">Password is too short</span>
            <span ng-show="signupForm.password.$error.maxlength" class="help-block">Password is too long</span>
        </div>

        <!-- PASSWORD CONFIRMATION -->
        <div class="form-group" ng-class="{ 'has-error' : (signupForm.password_repeat.$invalid || (!passMatch && !signupForm.password.$invalid)) && !signupForm.password_repeat.$pristine}">
            <label class="control-label" for="password_repeat">Confirm Password</label>
            <input type="password" name="password_repeat" class="form-control" ng-model="user.password_repeat" ng-minlength="8" ng-maxlength="20" placeholder="Confirm Password" ng-change="checkPass()" required>
            <span ng-show="signupForm.password_repeat.$error.required && !signupForm.password_repeat.$pristine" class="help-block">Enter your password again</span>
            <span ng-show="signupForm.password_repeat.$error.minlength" class="help-block">Password is too short</span>
            <span ng-show="signupForm.password_repeat.$error.maxlength" class="help-block">Password is too long</span>
            <span ng-show="!passMatch && !signupForm.password_repeat.$invalid && !signupForm.password.$invalid" class="help-block">Passwords do not match</span>
        </div>
		<button ng-disabled="signupForm.$invalid || !passMatch" type="submit" class="btn btn-default">Update Password</button>
	</form>
  </body>
</html>